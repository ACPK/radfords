<%= form_for @product, html: {
  class: 'form-horizontal',
  multipart: true
} do |f| %>
  <%= render 'shared/error_messages', object: f.object %>

  <div class="control-group">
    <%= f.label :title, class: 'control-label' %>

    <div class="controls">
      <%= f.text_field :title, class: 'text_field' %>
    </div>
  </div>

  <div class="control-group">
    <%= f.label :description, class: 'control-label' %>

    <div class="controls">
      <%= f.text_area :description, class: 'text_area' %>
    </div>
  </div>

  <div class="control-group">
    <%= f.label :photo, class: 'control-label' %>

    <div class="controls">
      <div class="fileupload fileupload-new" data-provides="fileupload">
        <div class="fileupload-new thumbnail">
          <%= image_tag @product.photo.url(:preview) %>
        </div>

        <div class="fileupload-preview fileupload-exists thumbnail"></div>

        <span class="btn btn-file">
          <span class="fileupload-new">Select image</span>
          <span class="fileupload-exists">Change</span>
          <%= f.file_field(:photo, class: "file_field") %>
        </span>

        <a href="#" class="btn fileupload-exists" data-dismiss="fileupload">Remove</a>
      </div>
    </div>
  </div>

  <div class="form-actions">
    <%= f.submit nil, class: 'btn btn-primary' %>
    <%= link_to("Cancel", :back, class: "btn") %>
  </div>
<% end %>
